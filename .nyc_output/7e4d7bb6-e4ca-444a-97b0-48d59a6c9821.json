{"/home/lucas/Projetos/Test/src/App.ts":{"path":"/home/lucas/Projetos/Test/src/App.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":32}},"5":{"start":{"line":8,"column":24},"end":{"line":8,"column":79}},"6":{"start":{"line":9,"column":22},"end":{"line":9,"column":75}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":44}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":30}},"9":{"start":{"line":14,"column":8},"end":{"line":14,"column":26}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":30}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":31}},"12":{"start":{"line":19,"column":30},"end":{"line":24,"column":9}},"13":{"start":{"line":20,"column":12},"end":{"line":20,"column":59}},"14":{"start":{"line":21,"column":12},"end":{"line":21,"column":92}},"15":{"start":{"line":22,"column":12},"end":{"line":22,"column":60}},"16":{"start":{"line":23,"column":12},"end":{"line":23,"column":19}},"17":{"start":{"line":25,"column":8},"end":{"line":25,"column":47}},"18":{"start":{"line":26,"column":8},"end":{"line":26,"column":36}},"19":{"start":{"line":29,"column":8},"end":{"line":29,"column":70}},"20":{"start":{"line":29,"column":47},"end":{"line":29,"column":68}},"21":{"start":{"line":30,"column":8},"end":{"line":30,"column":65}},"22":{"start":{"line":33,"column":8},"end":{"line":33,"column":44}},"23":{"start":{"line":36,"column":0},"end":{"line":36,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":18},"end":{"line":17,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":21},"end":{"line":27,"column":5}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":30},"end":{"line":19,"column":31}},"loc":{"start":{"line":19,"column":51},"end":{"line":24,"column":9}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":17},"end":{"line":31,"column":5}},"line":28},"5":{"name":"(anonymous_5)","decl":{"start":{"line":29,"column":32},"end":{"line":29,"column":33}},"loc":{"start":{"line":29,"column":47},"end":{"line":29,"column":68}},"line":29},"6":{"name":"(anonymous_6)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":22},"end":{"line":34,"column":5}},"line":32}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":2,"13":6,"14":6,"15":6,"16":6,"17":2,"18":2,"19":1,"20":0,"21":1,"22":1,"23":1},"f":{"0":3,"1":1,"2":2,"3":6,"4":1,"5":0,"6":1},"b":{"0":[1,1,1],"1":[2,1],"2":[3,3]},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos/Test/src/App.ts","sources":["/home/lucas/Projetos/Test/src/App.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,gCAA8B;AAC9B,gFAAwD;AACxD,4EAAoD;AAEpD,MAAM,GAAG;IAGP;QACE,IAAI,CAAC,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;QACrB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAEO,cAAc;QACpB,MAAM,aAAa,GAA2B,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;YAChE,GAAG,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;YAC/C,GAAG,CAAC,MAAM,CACR,8BAA8B,EAC9B,mCAAmC,CACpC,CAAC;YACF,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;YAChD,IAAI,EAAE,CAAC;QACT,CAAC,CAAC;QACF,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC9B,CAAC;IAEO,UAAU;QAChB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;QAC9D,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,uBAAa,EAAE,CAAC,UAAU,EAAE,CAAC,CAAC;IACjD,CAAC;IAEO,eAAe;QACrB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,qBAAW,CAAC,CAAC;IAC5B,CAAC;CACF;AAED,kBAAe,IAAI,GAAG,EAAE,CAAC,GAAG,CAAC","sourcesContent":["import express from 'express';\nimport 'express-async-errors';\nimport CpfController from './controllers/CpfController';\nimport handleError from './middlewares/handleError';\n\nclass App {\n  public app: express.Express;\n\n  constructor() {\n    this.app = express();\n    this.initAuthHeader();\n    this.initRoutes();\n    this.initAuthHeader();\n    this.initMiddlewares();\n  }\n\n  private initAuthHeader(): void {\n    const accessControl: express.RequestHandler = (_req, res, next) => {\n      res.header('Access-Control-Allow-Origin', '*');\n      res.header(\n        'Access-Control-Allow-Methods',\n        'GET,POST,DELETE,OPTIONS,PUT,PATCH',\n      );\n      res.header('Access-Control-Allow-Headers', '*');\n      next();\n    };\n    this.app.use(express.json());\n    this.app.use(accessControl);\n  }\n\n  private initRoutes(): void {\n    this.app.get('/coffee', (_req, res) => res.status(418).end());\n    this.app.use(new CpfController().initRoutes());\n  }\n\n  private initMiddlewares(): void {\n    this.app.use(handleError);\n  }\n}\n\nexport default new App().app;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b64ccc3facae2b910901c05e432853f5702fad55","contentHash":"c5249ec6d35975f556c0dc06e1881e6f2b735253be1c5516a4856081bcc23511"},"/home/lucas/Projetos/Test/src/controllers/CpfController.ts":{"path":"/home/lucas/Projetos/Test/src/controllers/CpfController.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":26},"end":{"line":6,"column":84}},"4":{"start":{"line":7,"column":27},"end":{"line":7,"column":86}},"5":{"start":{"line":8,"column":21},"end":{"line":8,"column":71}},"6":{"start":{"line":9,"column":29},"end":{"line":9,"column":77}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":42}},"8":{"start":{"line":15,"column":20},"end":{"line":15,"column":28}},"9":{"start":{"line":16,"column":23},"end":{"line":16,"column":53}},"10":{"start":{"line":17,"column":8},"end":{"line":17,"column":44}},"11":{"start":{"line":20,"column":24},"end":{"line":20,"column":34}},"12":{"start":{"line":21,"column":23},"end":{"line":21,"column":55}},"13":{"start":{"line":22,"column":8},"end":{"line":22,"column":44}},"14":{"start":{"line":25,"column":23},"end":{"line":25,"column":55}},"15":{"start":{"line":26,"column":8},"end":{"line":26,"column":44}},"16":{"start":{"line":29,"column":24},"end":{"line":29,"column":34}},"17":{"start":{"line":30,"column":8},"end":{"line":30,"column":42}},"18":{"start":{"line":31,"column":8},"end":{"line":31,"column":37}},"19":{"start":{"line":34,"column":8},"end":{"line":36,"column":59}},"20":{"start":{"line":35,"column":59},"end":{"line":35,"column":80}},"21":{"start":{"line":36,"column":31},"end":{"line":36,"column":57}},"22":{"start":{"line":37,"column":8},"end":{"line":39,"column":88}},"23":{"start":{"line":38,"column":59},"end":{"line":38,"column":82}},"24":{"start":{"line":39,"column":62},"end":{"line":39,"column":86}},"25":{"start":{"line":40,"column":8},"end":{"line":40,"column":27}},"26":{"start":{"line":43,"column":0},"end":{"line":43,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":18},"end":{"line":13,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":27},"end":{"line":18,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":29},"end":{"line":23,"column":5}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":32},"end":{"line":27,"column":5}},"line":24},"5":{"name":"(anonymous_5)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":30},"end":{"line":32,"column":5}},"line":28},"6":{"name":"(anonymous_6)","decl":{"start":{"line":33,"column":4},"end":{"line":33,"column":5}},"loc":{"start":{"line":33,"column":17},"end":{"line":41,"column":5}},"line":33},"7":{"name":"(anonymous_7)","decl":{"start":{"line":35,"column":45},"end":{"line":35,"column":46}},"loc":{"start":{"line":35,"column":59},"end":{"line":35,"column":80}},"line":35},"8":{"name":"(anonymous_8)","decl":{"start":{"line":36,"column":17},"end":{"line":36,"column":18}},"loc":{"start":{"line":36,"column":31},"end":{"line":36,"column":57}},"line":36},"9":{"name":"(anonymous_9)","decl":{"start":{"line":38,"column":45},"end":{"line":38,"column":46}},"loc":{"start":{"line":38,"column":59},"end":{"line":38,"column":82}},"line":38},"10":{"name":"(anonymous_10)","decl":{"start":{"line":39,"column":48},"end":{"line":39,"column":49}},"loc":{"start":{"line":39,"column":62},"end":{"line":39,"column":86}},"line":39}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":4,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":0,"16":1,"17":1,"18":1,"19":1,"20":1,"21":0,"22":1,"23":1,"24":1,"25":1,"26":1},"f":{"0":4,"1":1,"2":1,"3":1,"4":0,"5":1,"6":1,"7":1,"8":0,"9":1,"10":1},"b":{"0":[1,1,1],"1":[4,0],"2":[4,4]},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos/Test/src/controllers/CpfController.ts","sources":["/home/lucas/Projetos/Test/src/controllers/CpfController.ts"],"names":[],"mappings":";;;;;AAIA,qFAA6D;AAC7D,uFAA+D;AAC/D,wEAAgD;AAChD,8EAAsD;AAEtD,MAAqB,aAAc,SAAQ,4BAE1C;IACC;QACE,KAAK,CAAC,IAAI,oBAAU,EAAE,CAAC,CAAC;IAC1B,CAAC;IAEO,KAAK,CAAC,MAAM,CAAC,GAAY,EAAE,GAAa;QAC9C,MAAM,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC;QACrB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC9C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;IAEO,KAAK,CAAC,QAAQ,CAAC,GAAY,EAAE,GAAa;QAChD,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC3B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QAChD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;IAEO,KAAK,CAAC,WAAW,CAAC,GAAY,EAAE,GAAa;QACnD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;QAChD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC;IAEO,KAAK,CAAC,SAAS,CAAC,GAAY,EAAE,GAAa;QACjD,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC3B,MAAM,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAClC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;IAC/B,CAAC;IAEM,UAAU;QACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC;aACtB,IAAI,CAAC,yBAAe,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;aAC1D,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;QACjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC;aAC3B,GAAG,CAAC,0BAAgB,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;aAC5D,MAAM,CAAC,0BAAgB,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;QACpE,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;CACF;AAvCD,gCAuCC","sourcesContent":["import { Request, Response, Router } from 'express';\nimport Cpf from '../domains/Cpf';\nimport ICpf from '../interfaces/ICpf';\nimport ICpfService from '../interfaces/ICpfService';\nimport validateCpfBody from '../middlewares/validateCpfBody';\nimport validateCpfParam from '../middlewares/validateCpfParam';\nimport CpfService from '../services/CpfService';\nimport AbstractController from './AbstractController';\n\nexport default class CpfController extends AbstractController<\nICpfService<ICpf, Cpf>\n> {\n  constructor() {\n    super(new CpfService());\n  }\n\n  private async addCpf(req: Request, res: Response): Promise<Response> {\n    const cpf = req.body;\n    const newCpf = await this.service.addCpf(cpf);\n    return res.status(201).json(newCpf);\n  }\n\n  private async checkCpf(req: Request, res: Response): Promise<Response> {\n    const { cpf } = req.params;\n    const result = await this.service.checkCpf(cpf);\n    return res.status(200).json(result);\n  }\n\n  private async findAllCpfs(req: Request, res: Response): Promise<Response> {\n    const result = await this.service.findAllCpfs();\n    return res.status(200).json(result);\n  }\n\n  private async removeCpf(req: Request, res: Response): Promise<Response> {\n    const { cpf } = req.params;\n    await this.service.removeCpf(cpf);\n    return res.status(200).end();\n  }\n\n  public initRoutes(): Router {\n    this.router.route('/cpf')\n      .post(validateCpfBody, (req, res) => this.addCpf(req, res))\n      .get((req, res) => this.findAllCpfs(req, res));\n    this.router.route('/cpf/:cpf')\n      .get(validateCpfParam, (req, res) => this.checkCpf(req, res))\n      .delete(validateCpfParam, (req, res) => this.removeCpf(req, res));\n    return this.router;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7d286377daf75b58700af9328f4efa00d78436f9","contentHash":"4618736667c0bd030be8d3c6d493d4ccc734ca9e01c6bfd3e09a3d6eeff128e0"},"/home/lucas/Projetos/Test/src/middlewares/validateCpfBody.ts":{"path":"/home/lucas/Projetos/Test/src/middlewares/validateCpfBody.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":29},"end":{"line":6,"column":58}},"4":{"start":{"line":7,"column":30},"end":{"line":7,"column":87}},"5":{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":68}},"7":{"start":{"line":12,"column":4},"end":{"line":12,"column":11}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"validateCpfBody","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":24}},"loc":{"start":{"line":8,"column":42},"end":{"line":13,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},{"start":{"line":9,"column":4},"end":{"line":11,"column":5}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":1,"8":1},"f":{"0":1,"1":2},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1,1]},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos/Test/src/middlewares/validateCpfBody.ts","sources":["/home/lucas/Projetos/Test/src/middlewares/validateCpfBody.ts"],"names":[],"mappings":";;;;;AAAA,2DAAyC;AAEzC,wFAAiE;AAEjE,SAAwB,eAAe,CACrC,GAAY,EACZ,IAAc,EACd,IAAkB;IAElB,IAAI,CAAC,wBAAG,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;QAC9B,MAAM,IAAI,6BAAoB,CAAC,kBAAkB,CAAC,CAAC;KACpD;IACD,IAAI,EAAE,CAAC;AACT,CAAC;AATD,kCASC","sourcesContent":["import { cpf } from 'cpf-cnpj-validator';\nimport { NextFunction, Request, Response } from 'express';\nimport InvalidCpfExeception from '../errors/InvalidCpfException';\n\nexport default function validateCpfBody(\n  req: Request,\n  _res: Response,\n  next: NextFunction,\n) {\n  if (!cpf.isValid(req.body.cpf)) {\n    throw new InvalidCpfExeception('CPF is not valid');\n  }\n  next();\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e9f25562ee84daf89d23b0804a50038fafdaee5f","contentHash":"c6115f8b784bba6c5e59e0830c93860f5d4fe9fbea1fc1113c763cbf55670154"},"/home/lucas/Projetos/Test/src/errors/InvalidCpfException.ts":{"path":"/home/lucas/Projetos/Test/src/errors/InvalidCpfException.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":26}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":43}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":25},"end":{"line":8,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":3,"2":3,"3":3,"4":1},"f":{"0":3},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos/Test/src/errors/InvalidCpfException.ts","sources":["/home/lucas/Projetos/Test/src/errors/InvalidCpfException.ts"],"names":[],"mappings":";;AAAA,MAAqB,oBAAqB,SAAQ,KAAK;IAErD,YAAY,OAAe;QACzB,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAClB,IAAI,CAAC,IAAI,GAAG,sBAAsB,CAAC;IACrC,CAAC;CACF;AAPD,uCAOC","sourcesContent":["export default class InvalidCpfExeception extends Error {\n  public status: number;\n  constructor(message: string) {\n    super(message);\n    this.status = 400;\n    this.name = 'InvalidCpfExeception';\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"594875a94bfddb1050953f26c3b22178bd270323","contentHash":"4fa3d932cbbbe183f1afb7c53e0b4a92cd0b95ac194254a39983af240f50ece7"},"/home/lucas/Projetos/Test/src/middlewares/validateCpfParam.ts":{"path":"/home/lucas/Projetos/Test/src/middlewares/validateCpfParam.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":29},"end":{"line":6,"column":58}},"4":{"start":{"line":7,"column":30},"end":{"line":7,"column":87}},"5":{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":68}},"7":{"start":{"line":12,"column":4},"end":{"line":12,"column":11}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"validateCpfParam","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":25}},"loc":{"start":{"line":8,"column":43},"end":{"line":13,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},{"start":{"line":9,"column":4},"end":{"line":11,"column":5}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":4,"6":2,"7":2,"8":1},"f":{"0":1,"1":4},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[2,2]},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos/Test/src/middlewares/validateCpfParam.ts","sources":["/home/lucas/Projetos/Test/src/middlewares/validateCpfParam.ts"],"names":[],"mappings":";;;;;AAAA,2DAAyC;AAEzC,wFAAiE;AAEjE,SAAwB,gBAAgB,CACtC,GAAY,EACZ,IAAc,EACd,IAAkB;IAElB,IAAI,CAAC,wBAAG,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;QAChC,MAAM,IAAI,6BAAoB,CAAC,kBAAkB,CAAC,CAAC;KACpD;IACD,IAAI,EAAE,CAAC;AACT,CAAC;AATD,mCASC","sourcesContent":["import { cpf } from 'cpf-cnpj-validator';\nimport { NextFunction, Request, Response } from 'express';\nimport InvalidCpfExeception from '../errors/InvalidCpfException';\n\nexport default function validateCpfParam(\n  req: Request,\n  _res: Response,\n  next: NextFunction,\n) {\n  if (!cpf.isValid(req.params.cpf)) {\n    throw new InvalidCpfExeception('CPF is not valid');\n  }\n  next();\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d49a1dc88cb147b51964515bf75f58df9e8e8109","contentHash":"f9456b1feb3b234a324180ec6dcdb71477c8adcf86123099772cc2025456519d"},"/home/lucas/Projetos/Test/src/services/CpfService.ts":{"path":"/home/lucas/Projetos/Test/src/services/CpfService.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":56}},"4":{"start":{"line":7,"column":29},"end":{"line":7,"column":85}},"5":{"start":{"line":8,"column":31},"end":{"line":8,"column":89}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":61}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":42}},"8":{"start":{"line":15,"column":23},"end":{"line":15,"column":54}},"9":{"start":{"line":16,"column":8},"end":{"line":17,"column":73}},"10":{"start":{"line":17,"column":12},"end":{"line":17,"column":73}},"11":{"start":{"line":18,"column":23},"end":{"line":18,"column":49}},"12":{"start":{"line":19,"column":8},"end":{"line":19,"column":41}},"13":{"start":{"line":22,"column":23},"end":{"line":22,"column":57}},"14":{"start":{"line":23,"column":8},"end":{"line":24,"column":73}},"15":{"start":{"line":24,"column":12},"end":{"line":24,"column":73}},"16":{"start":{"line":25,"column":8},"end":{"line":25,"column":41}},"17":{"start":{"line":28,"column":23},"end":{"line":28,"column":58}},"18":{"start":{"line":29,"column":8},"end":{"line":30,"column":73}},"19":{"start":{"line":30,"column":12},"end":{"line":30,"column":73}},"20":{"start":{"line":31,"column":8},"end":{"line":31,"column":46}},"21":{"start":{"line":34,"column":23},"end":{"line":34,"column":44}},"22":{"start":{"line":35,"column":8},"end":{"line":35,"column":59}},"23":{"start":{"line":35,"column":35},"end":{"line":35,"column":57}},"24":{"start":{"line":38,"column":0},"end":{"line":38,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":18},"end":{"line":13,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":22},"end":{"line":20,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":31},"end":{"line":26,"column":5}},"line":21},"4":{"name":"(anonymous_4)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":33},"end":{"line":32,"column":5}},"line":27},"5":{"name":"(anonymous_5)","decl":{"start":{"line":33,"column":4},"end":{"line":33,"column":5}},"loc":{"start":{"line":33,"column":24},"end":{"line":36,"column":5}},"line":33},"6":{"name":"(anonymous_6)","decl":{"start":{"line":35,"column":26},"end":{"line":35,"column":27}},"loc":{"start":{"line":35,"column":35},"end":{"line":35,"column":57}},"line":35}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":16,"column":8},"end":{"line":17,"column":73}},"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":17,"column":73}},{"start":{"line":16,"column":8},"end":{"line":17,"column":73}}],"line":16},"4":{"loc":{"start":{"line":23,"column":8},"end":{"line":24,"column":73}},"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":24,"column":73}},{"start":{"line":23,"column":8},"end":{"line":24,"column":73}}],"line":23},"5":{"loc":{"start":{"line":29,"column":8},"end":{"line":30,"column":73}},"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":30,"column":73}},{"start":{"line":29,"column":8},"end":{"line":30,"column":73}}],"line":29}},"s":{"0":1,"1":4,"2":1,"3":1,"4":1,"5":1,"6":1,"7":4,"8":3,"9":3,"10":1,"11":2,"12":2,"13":3,"14":3,"15":1,"16":2,"17":3,"18":3,"19":1,"20":2,"21":0,"22":0,"23":0,"24":1},"f":{"0":4,"1":4,"2":3,"3":3,"4":3,"5":0,"6":0},"b":{"0":[1,1,1],"1":[4,0],"2":[4,4],"3":[1,2],"4":[1,2],"5":[1,2]},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos/Test/src/services/CpfService.ts","sources":["/home/lucas/Projetos/Test/src/services/CpfService.ts"],"names":[],"mappings":";;;;;AAAA,yDAAiC;AACjC,sFAA8D;AAC9D,0FAAkE;AAGlE,8DAAsC;AAEtC,MAAqB,UAAU;IAA/B;QACY,QAAG,GAAW,IAAI,gBAAM,EAAE,CAAC;IAyBvC,CAAC;IAvBQ,KAAK,CAAC,MAAM,CAAC,GAAS;QAC3B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC/C,IAAI,MAAM;YAAE,MAAM,IAAI,4BAAkB,CAAC,oBAAoB,CAAC,CAAC;QAC/D,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC1C,OAAO,IAAI,aAAG,CAAC,MAAM,CAAC,CAAC;IACzB,CAAC;IAEM,KAAK,CAAC,QAAQ,CAAC,UAAkB;QACtC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAClD,IAAI,CAAC,MAAM;YAAE,MAAM,IAAI,8BAAoB,CAAC,kBAAkB,CAAC,CAAC;QAChE,OAAO,IAAI,aAAG,CAAC,MAAM,CAAC,CAAC;IACzB,CAAC;IAEM,KAAK,CAAC,SAAS,CAAC,WAAmB;QACxC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QACnD,IAAI,CAAC,MAAM;YAAE,MAAM,IAAI,8BAAoB,CAAC,kBAAkB,CAAC,CAAC;QAChE,MAAM,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;IACxC,CAAC;IAEM,KAAK,CAAC,WAAW;QACtB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;QACrC,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,aAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAC3C,CAAC;CACF;AA1BD,6BA0BC","sourcesContent":["import Cpf from '../domains/Cpf';\nimport ExistsCpfException from '../errors/ExistsCpfException';\nimport NotFoundCpfException from '../errors/NotFoundCpfException';\nimport ICpf from '../interfaces/ICpf';\nimport ICpfService from '../interfaces/ICpfService';\nimport CpfODM from '../models/CpfODM';\n\nexport default class CpfService implements ICpfService<ICpf, Cpf> {\n  protected odm: CpfODM = new CpfODM();\n\n  public async addCpf(dto: ICpf): Promise<Cpf> {\n    const result = await this.odm.findOne(dto.cpf);\n    if (result) throw new ExistsCpfException('Cpf already exists');\n    const newCpf = await this.odm.create(dto);\n    return new Cpf(newCpf);\n  }\n\n  public async checkCpf(cpfToSeach: string): Promise<Cpf> {\n    const result = await this.odm.findOne(cpfToSeach);\n    if (!result) throw new NotFoundCpfException('CPF is not found');\n    return new Cpf(result);\n  }\n\n  public async removeCpf(cpfToRemove: string): Promise<void> {\n    const result = await this.odm.findOne(cpfToRemove);\n    if (!result) throw new NotFoundCpfException('CPF is not found');\n    await this.odm.deleteOne(cpfToRemove);\n  }\n\n  public async findAllCpfs(): Promise<Cpf[]> {\n    const result = await this.odm.find();\n    return result.map((cpf) => new Cpf(cpf));\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b4b26abde8222b3b4da3a0f78214c21a8d7aa699","contentHash":"6737ad83c7d748968c8434c78a7fd7ca2713a2e375b6943bb67ffa0c7e8cc856"},"/home/lucas/Projetos/Test/src/domains/Cpf.ts":{"path":"/home/lucas/Projetos/Test/src/domains/Cpf.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":27}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":39}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":21},"end":{"line":7,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":4,"2":4,"3":1},"f":{"0":4},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos/Test/src/domains/Cpf.ts","sources":["/home/lucas/Projetos/Test/src/domains/Cpf.ts"],"names":[],"mappings":";;AAEA,MAAqB,GAAG;IAItB,YAAY,GAAS;QACnB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;QACnB,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;IACjC,CAAC;CACF;AARD,sBAQC","sourcesContent":["import ICpf from '../interfaces/ICpf';\n\nexport default class Cpf {\n  private cpf: string;\n  private createdAt: Date | undefined;\n\n  constructor(cpf: ICpf) {\n    this.cpf = cpf.cpf;\n    this.createdAt = cpf.createdAt;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0af01565d01976ce025137f1f8eea6cece629f8d","contentHash":"4ad3bf79a5bd9952e4725793cb8e25071cf3e474fd624a888a4b54eecd240d34"},"/home/lucas/Projetos/Test/src/errors/ExistsCpfException.ts":{"path":"/home/lucas/Projetos/Test/src/errors/ExistsCpfException.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":26}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":41}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":25},"end":{"line":8,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos/Test/src/errors/ExistsCpfException.ts","sources":["/home/lucas/Projetos/Test/src/errors/ExistsCpfException.ts"],"names":[],"mappings":";;AAAA,MAAqB,kBAAmB,SAAQ,KAAK;IAEnD,YAAY,OAAe;QACzB,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAClB,IAAI,CAAC,IAAI,GAAG,oBAAoB,CAAC;IACnC,CAAC;CACF;AAPD,qCAOC","sourcesContent":["export default class ExistsCpfException extends Error {\n  public status: number;\n  constructor(message: string) {\n    super(message);\n    this.status = 409;\n    this.name = 'ExistsCpfException';\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dc8be1f7d3965080b96d0f7f72708c8a762cc7ef","contentHash":"577a5494d3f30d3715ff24549048f57bef73a3c359e82b266ccd4a400d7d85c9"},"/home/lucas/Projetos/Test/src/errors/NotFoundCpfException.ts":{"path":"/home/lucas/Projetos/Test/src/errors/NotFoundCpfException.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":26}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":43}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":25},"end":{"line":8,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":2,"2":2,"3":2,"4":1},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos/Test/src/errors/NotFoundCpfException.ts","sources":["/home/lucas/Projetos/Test/src/errors/NotFoundCpfException.ts"],"names":[],"mappings":";;AAAA,MAAqB,oBAAqB,SAAQ,KAAK;IAErD,YAAY,OAAe;QACzB,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAClB,IAAI,CAAC,IAAI,GAAG,sBAAsB,CAAC;IACrC,CAAC;CACF;AAPD,uCAOC","sourcesContent":["export default class NotFoundCpfException extends Error {\n  public status: number;\n  constructor(message: string) {\n    super(message);\n    this.status = 404;\n    this.name = 'NotFoundCpfException';\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"44c03418a4422c4ff37312fc60634169f5b72943","contentHash":"130580a04bab3824795956fb9b1645a90bfe5e8b896ac8bac02799ca7289f8fa"},"/home/lucas/Projetos/Test/src/models/CpfODM.ts":{"path":"/home/lucas/Projetos/Test/src/models/CpfODM.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":38}},"4":{"start":{"line":7,"column":22},"end":{"line":7,"column":63}},"5":{"start":{"line":10,"column":23},"end":{"line":20,"column":10}},"6":{"start":{"line":21,"column":8},"end":{"line":21,"column":29}},"7":{"start":{"line":24,"column":0},"end":{"line":24,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":18},"end":{"line":22,"column":5}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":4,"6":4,"7":1},"f":{"0":1,"1":4},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos/Test/src/models/CpfODM.ts","sources":["/home/lucas/Projetos/Test/src/models/CpfODM.ts"],"names":[],"mappings":";;;;;AAAA,uCAAkC;AAElC,gEAAwC;AAExC,MAAqB,MAAO,SAAQ,qBAAiB;IACnD;QACE,MAAM,MAAM,GAAG,IAAI,iBAAM,CAAO;YAC9B,GAAG,EAAE;gBACH,IAAI,EAAE,MAAM;gBACZ,MAAM,EAAE,IAAI;aACb;YACD,SAAS,EAAE;gBACT,IAAI,EAAE,IAAI;gBACV,QAAQ,EAAE,IAAI;gBACd,OAAO,EAAE,IAAI,IAAI,EAAE;aACpB;SACF,CAAC,CAAC;QACH,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IACvB,CAAC;CACF;AAfD,yBAeC","sourcesContent":["import { Schema } from 'mongoose';\nimport ICpf from '../interfaces/ICpf';\nimport AbstractODM from './AbstractODM';\n\nexport default class CpfODM extends AbstractODM<ICpf> {\n  constructor() {\n    const schema = new Schema<ICpf>({\n      cpf: {\n        type: String,\n        unique: true,\n      },\n      createdAt: {\n        type: Date,\n        required: true,\n        default: new Date(),\n      },\n    });\n    super(schema, 'Cpf');\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fa17c41b756159ec136dd9bb43e798c30d7f4c73","contentHash":"4b2d2349f827f6041482551d02ac4c8ece1712d2f2f736abd9ce10d73f7ebb40"},"/home/lucas/Projetos/Test/src/models/AbstractODM.ts":{"path":"/home/lucas/Projetos/Test/src/models/AbstractODM.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":19},"end":{"line":3,"column":38}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":29}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":35}},"4":{"start":{"line":8,"column":8},"end":{"line":9,"column":66}},"5":{"start":{"line":12,"column":8},"end":{"line":12,"column":45}},"6":{"start":{"line":15,"column":8},"end":{"line":15,"column":50}},"7":{"start":{"line":18,"column":8},"end":{"line":18,"column":51}},"8":{"start":{"line":21,"column":8},"end":{"line":21,"column":33}},"9":{"start":{"line":24,"column":0},"end":{"line":24,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":35},"end":{"line":10,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":25},"end":{"line":16,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":27},"end":{"line":19,"column":5}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":17},"end":{"line":22,"column":5}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":21},"end":{"line":9,"column":65}},"type":"binary-expr","locations":[{"start":{"line":8,"column":21},"end":{"line":8,"column":54}},{"start":{"line":9,"column":15},"end":{"line":9,"column":65}}],"line":8}},"s":{"0":1,"1":1,"2":4,"3":4,"4":4,"5":2,"6":9,"7":2,"8":0,"9":1},"f":{"0":4,"1":2,"2":9,"3":2,"4":0},"b":{"0":[4,1]},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos/Test/src/models/AbstractODM.ts","sources":["/home/lucas/Projetos/Test/src/models/AbstractODM.ts"],"names":[],"mappings":";;AAAA,uCAAwD;AAExD,MAAe,WAAW;IAKxB,YAAY,MAAc,EAAE,SAAiB;QAC3C,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,KAAK,GAAI,iBAAM,CAAC,IAAI,CAAC,SAAS,CAAc;eAC3C,IAAA,gBAAK,EAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAc,CAAC;IACxD,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,GAAM;QACxB,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC;IACvC,CAAC;IAEM,KAAK,CAAC,OAAO,CAAC,KAAa;QAChC,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;IAC5C,CAAC;IAEM,KAAK,CAAC,SAAS,CAAC,KAAa;QAClC,MAAM,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;IAC7C,CAAC;IAEM,KAAK,CAAC,IAAI;QACf,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IAC3B,CAAC;CACF;AAED,kBAAe,WAAW,CAAC","sourcesContent":["import { Model, model, models, Schema } from 'mongoose';\n\nabstract class AbstractODM<T> {\n  protected model;\n  protected schema: Schema;\n  protected modelName: string;\n\n  constructor(schema: Schema, modelName: string) {\n    this.schema = schema;\n    this.modelName = modelName;\n    this.model = (models[this.modelName] as Model<T>)\n      || (model(this.modelName, this.schema) as Model<T>);\n  }\n\n  public async create(obj: T): Promise<T> {\n    return this.model.create({ ...obj });\n  }\n\n  public async findOne(param: string): Promise<T | null> {\n    return this.model.findOne({ cpf: param });\n  }\n\n  public async deleteOne(param: string): Promise<void> {\n    await this.model.deleteOne({ cpf: param });\n  }\n\n  public async find(): Promise<T[]> {\n    return this.model.find();\n  }\n}\n\nexport default AbstractODM;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dc6f8cbdc9e2be29e76d99ccc60df7af8bb5a8ae","contentHash":"112dc9596f465be2c56546733d09e764064326dfaf1d72e1cfafd5aa1df88fa0"},"/home/lucas/Projetos/Test/src/controllers/AbstractController.ts":{"path":"/home/lucas/Projetos/Test/src/controllers/AbstractController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":46}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":31}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":25},"end":{"line":8,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos/Test/src/controllers/AbstractController.ts","sources":["/home/lucas/Projetos/Test/src/controllers/AbstractController.ts"],"names":[],"mappings":";;AAAA,qCAA0C;AAE1C,MAA8B,kBAAkB;IAI9C,YAAY,OAAU;QACpB,IAAI,CAAC,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACzB,CAAC;CAGF;AAVD,qCAUC","sourcesContent":["import express, { Router } from 'express';\n\nexport default abstract class AbstractController<S> {\n  public router: express.Router;\n  public service: S;\n\n  constructor(service: S) {\n    this.router = Router();\n    this.service = service;\n  }\n\n  public abstract initRoutes(): Router;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a3db39046f6fc40171e795d0bf5ae06a4dfd7cf7","contentHash":"007eeacc0cf4cd6b9a90144c5cfda8fffc6a67e35e3febde5c79c01174beb2fe"},"/home/lucas/Projetos/Test/src/middlewares/handleError.ts":{"path":"/home/lucas/Projetos/Test/src/middlewares/handleError.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":19},"end":{"line":4,"column":38}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":53}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":38}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":60}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":30}}},"fnMap":{"0":{"name":"handleError","decl":{"start":{"line":3,"column":9},"end":{"line":3,"column":20}},"loc":{"start":{"line":3,"column":46},"end":{"line":8,"column":1}},"line":3}},"branchMap":{"0":{"loc":{"start":{"line":4,"column":19},"end":{"line":4,"column":38}},"type":"binary-expr","locations":[{"start":{"line":4,"column":19},"end":{"line":4,"column":31}},{"start":{"line":4,"column":35},"end":{"line":4,"column":38}}],"line":4},"1":{"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":53}},"type":"binary-expr","locations":[{"start":{"line":5,"column":20},"end":{"line":5,"column":33}},{"start":{"line":5,"column":37},"end":{"line":5,"column":53}}],"line":5},"2":{"loc":{"start":{"line":6,"column":17},"end":{"line":6,"column":38}},"type":"binary-expr","locations":[{"start":{"line":6,"column":17},"end":{"line":6,"column":27}},{"start":{"line":6,"column":31},"end":{"line":6,"column":38}}],"line":6}},"s":{"0":1,"1":3,"2":3,"3":3,"4":3,"5":1},"f":{"0":3},"b":{"0":[3,0],"1":[3,0],"2":[3,0]},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos/Test/src/middlewares/handleError.ts","sources":["/home/lucas/Projetos/Test/src/middlewares/handleError.ts"],"names":[],"mappings":";;AAGA,SAAwB,WAAW,CACjC,KAAmB,EACnB,IAAa,EACb,GAAa,EACb,KAAmB;IAEnB,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,IAAI,GAAG,CAAC;IACnC,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,IAAI,gBAAgB,CAAC;IAClD,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,IAAI,OAAO,CAAC;IACnC,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;AAC1D,CAAC;AAVD,8BAUC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport HttpExeption from '../errors/HttpExeption';\n\nexport default function handleError(\n  error: HttpExeption,\n  _req: Request,\n  res: Response,\n  _next: NextFunction,\n) {\n  const status = error.status || 500;\n  const message = error.message || 'Internal Error';\n  const name = error.name || 'Error';\n  return res.status(status).json({ type: name, message });\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b5e118dd0af138c2c62e928b74fccaf06afb832a","contentHash":"3c602e1f291caeecb4b3e9bf4b32656fc874f6e060df6c0cd237af9fea7b0a78"}}